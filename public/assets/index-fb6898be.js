(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function C(){}function Fe(e){return e()}function $e(){return Object.create(null)}function H(e){e.forEach(Fe)}function He(e){return typeof e=="function"}function A(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let ee;function Ve(e,t){return ee||(ee=document.createElement("a")),ee.href=t,e===ee.href}function We(e){return Object.keys(e).length===0}function se(e){return e??""}function _(e,t){e.appendChild(t)}function w(e,t,n){e.insertBefore(t,n||null)}function y(e){e.parentNode&&e.parentNode.removeChild(e)}function _e(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function P(e){return document.createTextNode(e)}function E(){return P(" ")}function O(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function g(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ze(e){return Array.from(e.childNodes)}function oe(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Te(e,t){return new e(t)}let V;function K(e){V=e}function Ne(){if(!V)throw new Error("Function called outside component initialization");return V}function ze(e){Ne().$$.on_mount.push(e)}function Xe(e){Ne().$$.on_destroy.push(e)}const D=[],Ee=[];let M=[];const Ce=[],Qe=Promise.resolve();let he=!1;function Ye(){he||(he=!0,Qe.then(Ie))}function pe(e){M.push(e)}const fe=new Set;let I=0;function Ie(){if(I!==0)return;const e=V;do{try{for(;I<D.length;){const t=D[I];I++,K(t),et(t.$$)}}catch(t){throw D.length=0,I=0,t}for(K(null),D.length=0,I=0;Ee.length;)Ee.pop()();for(let t=0;t<M.length;t+=1){const n=M[t];fe.has(n)||(fe.add(n),n())}M.length=0}while(D.length);for(;Ce.length;)Ce.pop()();he=!1,fe.clear(),K(e)}function et(e){if(e.fragment!==null){e.update(),H(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(pe)}}function tt(e){const t=[],n=[];M.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),M=t}const te=new Set;let F;function nt(){F={r:0,c:[],p:F}}function rt(){F.r||H(F.c),F=F.p}function ne(e,t){e&&e.i&&(te.delete(e),e.i(t))}function ue(e,t,n,r){if(e&&e.o){if(te.has(e))return;te.add(e),F.c.push(()=>{te.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function de(e){e&&e.c()}function re(e,t,n,r){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),r||pe(()=>{const o=e.$$.on_mount.map(Fe).filter(He);e.$$.on_destroy?e.$$.on_destroy.push(...o):H(o),e.$$.on_mount=[]}),s.forEach(pe)}function ie(e,t){const n=e.$$;n.fragment!==null&&(tt(n.after_update),H(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function it(e,t){e.$$.dirty[0]===-1&&(D.push(e),Ye(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function N(e,t,n,r,i,s,o,c=[-1]){const f=V;K(e);const a=e.$$={fragment:null,ctx:[],props:s,update:C,not_equal:i,bound:$e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:$e(),dirty:c,skip_bound:!1,root:t.target||f.$$.root};o&&o(a.root);let l=!1;if(a.ctx=n?n(e,t.props||{},(u,h,...d)=>{const p=d.length?d[0]:h;return a.ctx&&i(a.ctx[u],a.ctx[u]=p)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](p),l&&it(e,u)),h}):[],a.update(),l=!0,H(a.before_update),a.fragment=r?r(a.ctx):!1,t.target){if(t.hydrate){const u=Ze(t.target);a.fragment&&a.fragment.l(u),u.forEach(y)}else a.fragment&&a.fragment.c();t.intro&&ne(e.$$.fragment),re(e,t.target,t.anchor,t.customElement),Ie()}K(f)}class z{$destroy(){ie(this,1),this.$destroy=C}$on(t,n){if(!He(n))return C;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!We(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const st="/assets/svelte-a39f39b7.svg";function ot(e){let t,n,r,i,s,o;return{c(){t=v("footer"),n=v("a"),r=v("img"),s=E(),o=v("p"),o.innerHTML='Made with <br/><span class="svelte-s23b8x">Svelte</span>',Ve(r.src,i=st)||g(r,"src",i),g(r,"alt","Svelte Logo"),g(r,"class","svelte-s23b8x"),g(o,"class","svelte-s23b8x"),g(n,"href","https://svelte.dev"),g(n,"target","_blank"),g(n,"class","credit svelte-s23b8x"),g(t,"class","svelte-s23b8x")},m(c,f){w(c,t,f),_(t,n),_(n,r),_(n,s),_(n,o)},p:C,i:C,o:C,d(c){c&&y(t)}}}class at extends z{constructor(t){super(),N(this,t,null,ot,A,{})}}var me=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},W=Be,lt=ve,ct=ht,ft=qe,ut=Me,dt=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function ve(e){for(var t=[],n=0,r=0,i="",s;(s=dt.exec(e))!=null;){var o=s[0],c=s[1],f=s.index;if(i+=e.slice(r,f),r=f+o.length,c){i+=c[1];continue}i&&(t.push(i),i="");var a=s[2],l=s[3],u=s[4],h=s[5],d=s[6],p=s[7],m=d==="+"||d==="*",$=d==="?"||d==="*",b=a||"/",L=u||h||(p?".*":"[^"+b+"]+?");t.push({name:l||n++,prefix:a||"",delimiter:b,optional:$,repeat:m,pattern:pt(L)})}return r<e.length&&(i+=e.substr(r)),i&&t.push(i),t}function ht(e){return qe(ve(e))}function qe(e){for(var t=new Array(e.length),n=0;n<e.length;n++)typeof e[n]=="object"&&(t[n]=new RegExp("^"+e[n].pattern+"$"));return function(r){for(var i="",s=r||{},o=0;o<e.length;o++){var c=e[o];if(typeof c=="string"){i+=c;continue}var f=s[c.name],a;if(f==null){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to be defined')}if(me(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received "'+f+'"');if(f.length===0){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var l=0;l<f.length;l++){if(a=encodeURIComponent(f[l]),!t[o].test(a))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received "'+a+'"');i+=(l===0?c.prefix:c.delimiter)+a}continue}if(a=encodeURIComponent(f),!t[o].test(a))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+a+'"');i+=c.prefix+a}return i}}function Le(e){return e.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function pt(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function be(e,t){return e.keys=t,e}function De(e){return e.sensitive?"":"i"}function mt(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return be(e,t)}function gt(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(Be(e[i],t,n).source);var s=new RegExp("(?:"+r.join("|")+")",De(n));return be(s,t)}function _t(e,t,n){for(var r=ve(e),i=Me(r,n),s=0;s<r.length;s++)typeof r[s]!="string"&&t.push(r[s]);return be(i,t)}function Me(e,t){t=t||{};for(var n=t.strict,r=t.end!==!1,i="",s=e[e.length-1],o=typeof s=="string"&&/\/$/.test(s),c=0;c<e.length;c++){var f=e[c];if(typeof f=="string")i+=Le(f);else{var a=Le(f.prefix),l=f.pattern;f.repeat&&(l+="(?:"+a+l+")*"),f.optional?a?l="(?:"+a+"("+l+"))?":l="("+l+")?":l=a+"("+l+")",i+=l}}return n||(i=(o?i.slice(0,-2):i)+"(?:\\/(?=$))?"),r?i+="$":i+=n&&o?"":"(?=\\/|$)",new RegExp("^"+i,De(t))}function Be(e,t,n){return t=t||[],me(t)?n||(n={}):(n=t,t=[]),e instanceof RegExp?mt(e,t):me(e)?gt(e,t,n):_t(e,t,n)}W.parse=lt;W.compile=ct;W.tokensToFunction=ft;W.tokensToRegExp=ut;var B=typeof document<"u",k=typeof window<"u",ae=typeof history<"u",vt=typeof process<"u",ge=B&&document.ontouchstart?"touchstart":"click",j=k&&!!(window.history.location||window.location);function x(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}x.prototype.configure=function(e){var t=e||{};this._window=t.window||k&&window,this._decodeURLComponents=t.decodeURLComponents!==!1,this._popstate=t.popstate!==!1&&k,this._click=t.click!==!1&&B,this._hashbang=!!t.hashbang;var n=this._window;this._popstate?n.addEventListener("popstate",this._onpopstate,!1):k&&n.removeEventListener("popstate",this._onpopstate,!1),this._click?n.document.addEventListener(ge,this.clickHandler,!1):B&&n.document.removeEventListener(ge,this.clickHandler,!1),this._hashbang&&k&&!ae?n.addEventListener("hashchange",this._onpopstate,!1):k&&n.removeEventListener("hashchange",this._onpopstate,!1)};x.prototype.base=function(e){if(arguments.length===0)return this._base;this._base=e};x.prototype._getBase=function(){var e=this._base;if(e)return e;var t=k&&this._window&&this._window.location;return k&&this._hashbang&&t&&t.protocol==="file:"&&(e=t.pathname),e};x.prototype.strict=function(e){if(arguments.length===0)return this._strict;this._strict=e};x.prototype.start=function(e){var t=e||{};if(this.configure(t),t.dispatch!==!1){this._running=!0;var n;if(j){var r=this._window,i=r.location;this._hashbang&&~i.hash.indexOf("#!")?n=i.hash.substr(2)+i.search:this._hashbang?n=i.search+i.hash:n=i.pathname+i.search+i.hash}this.replace(n,null,!0,t.dispatch)}};x.prototype.stop=function(){if(this._running){this.current="",this.len=0,this._running=!1;var e=this._window;this._click&&e.document.removeEventListener(ge,this.clickHandler,!1),k&&e.removeEventListener("popstate",this._onpopstate,!1),k&&e.removeEventListener("hashchange",this._onpopstate,!1)}};x.prototype.show=function(e,t,n,r){var i=new Z(e,t,this),s=this.prevContext;return this.prevContext=i,this.current=i.path,n!==!1&&this.dispatch(i,s),i.handled!==!1&&r!==!1&&i.pushState(),i};x.prototype.back=function(e,t){var n=this;if(this.len>0){var r=this._window;ae&&r.history.back(),this.len--}else setTimeout(e?function(){n.show(e,t)}:function(){n.show(n._getBase(),t)})};x.prototype.redirect=function(e,t){var n=this;typeof e=="string"&&typeof t=="string"&&le.call(this,e,function(r){setTimeout(function(){n.replace(t)},0)}),typeof e=="string"&&typeof t>"u"&&setTimeout(function(){n.replace(e)},0)};x.prototype.replace=function(e,t,n,r){var i=new Z(e,t,this),s=this.prevContext;return this.prevContext=i,this.current=i.path,i.init=n,i.save(),r!==!1&&this.dispatch(i,s),i};x.prototype.dispatch=function(e,t){var n=0,r=0,i=this;function s(){var c=i.exits[r++];if(!c)return o();c(t,s)}function o(){var c=i.callbacks[n++];if(e.path!==i.current){e.handled=!1;return}if(!c)return bt.call(i,e);c(e,o)}t?s():o()};x.prototype.exit=function(e,t){if(typeof e=="function")return this.exit("*",e);for(var n=new X(e,null,this),r=1;r<arguments.length;++r)this.exits.push(n.middleware(arguments[r]))};x.prototype.clickHandler=function(e){if(this._which(e)===1&&!(e.metaKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented){var t=e.target,n=e.path||(e.composedPath?e.composedPath():null);if(n){for(var r=0;r<n.length;r++)if(n[r].nodeName&&n[r].nodeName.toUpperCase()==="A"&&n[r].href){t=n[r];break}}for(;t&&t.nodeName.toUpperCase()!=="A";)t=t.parentNode;if(!(!t||t.nodeName.toUpperCase()!=="A")){var i=typeof t.href=="object"&&t.href.constructor.name==="SVGAnimatedString";if(!(t.hasAttribute("download")||t.getAttribute("rel")==="external")){var s=t.getAttribute("href");if(!(!this._hashbang&&this._samePath(t)&&(t.hash||s==="#"))&&!(s&&s.indexOf("mailto:")>-1)&&!(i?t.target.baseVal:t.target)&&!(!i&&!this.sameOrigin(t.href))){var o=i?t.href.baseVal:t.pathname+t.search+(t.hash||"");o=o[0]!=="/"?"/"+o:o,vt&&o.match(/^\/[a-zA-Z]:\//)&&(o=o.replace(/^\/[a-zA-Z]:\//,"/"));var c=o,f=this._getBase();o.indexOf(f)===0&&(o=o.substr(f.length)),this._hashbang&&(o=o.replace("#!","")),!(f&&c===o&&(!j||this._window.location.protocol!=="file:"))&&(e.preventDefault(),this.show(c))}}}}};x.prototype._onpopstate=function(){var e=!1;return k?(B&&document.readyState==="complete"?e=!0:window.addEventListener("load",function(){setTimeout(function(){e=!0},0)}),function(n){if(e){var r=this;if(n.state){var i=n.state.path;r.replace(i,n.state)}else if(j){var s=r._window.location;r.show(s.pathname+s.search+s.hash,void 0,void 0,!1)}}}):function(){}}();x.prototype._which=function(e){return e=e||k&&this._window.event,e.which==null?e.button:e.which};x.prototype._toURL=function(e){var t=this._window;if(typeof URL=="function"&&j)return new URL(e,t.location.toString());if(B){var n=t.document.createElement("a");return n.href=e,n}};x.prototype.sameOrigin=function(e){if(!e||!j)return!1;var t=this._toURL(e),n=this._window,r=n.location;return r.protocol===t.protocol&&r.hostname===t.hostname&&(r.port===t.port||r.port===""&&(t.port==80||t.port==443))};x.prototype._samePath=function(e){if(!j)return!1;var t=this._window,n=t.location;return e.pathname===n.pathname&&e.search===n.search};x.prototype._decodeURLEncodedURIComponent=function(e){return typeof e!="string"?e:this._decodeURLComponents?decodeURIComponent(e.replace(/\+/g," ")):e};function Je(){var e=new x;function t(){return le.apply(e,arguments)}return t.callbacks=e.callbacks,t.exits=e.exits,t.base=e.base.bind(e),t.strict=e.strict.bind(e),t.start=e.start.bind(e),t.stop=e.stop.bind(e),t.show=e.show.bind(e),t.back=e.back.bind(e),t.redirect=e.redirect.bind(e),t.replace=e.replace.bind(e),t.dispatch=e.dispatch.bind(e),t.exit=e.exit.bind(e),t.configure=e.configure.bind(e),t.sameOrigin=e.sameOrigin.bind(e),t.clickHandler=e.clickHandler.bind(e),t.create=Je,Object.defineProperty(t,"len",{get:function(){return e.len},set:function(n){e.len=n}}),Object.defineProperty(t,"current",{get:function(){return e.current},set:function(n){e.current=n}}),t.Context=Z,t.Route=X,t}function le(e,t){if(typeof e=="function")return le.call(this,"*",e);if(typeof t=="function")for(var n=new X(e,null,this),r=1;r<arguments.length;++r)this.callbacks.push(n.middleware(arguments[r]));else typeof e=="string"?this[typeof t=="string"?"redirect":"show"](e,t):this.start(e)}function bt(e){if(!e.handled){var t,n=this,r=n._window;n._hashbang?t=j&&this._getBase()+r.location.hash.replace("#!",""):t=j&&r.location.pathname+r.location.search,t!==e.canonicalPath&&(n.stop(),e.handled=!1,j&&(r.location.href=e.canonicalPath))}}function yt(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Z(e,t,n){var r=this.page=n||le,i=r._window,s=r._hashbang,o=r._getBase();e[0]==="/"&&e.indexOf(o)!==0&&(e=o+(s?"#!":"")+e);var c=e.indexOf("?");this.canonicalPath=e;var f=new RegExp("^"+yt(o));if(this.path=e.replace(f,"")||"/",s&&(this.path=this.path.replace("#!","")||"/"),this.title=B&&i.document.title,this.state=t||{},this.state.path=e,this.querystring=~c?r._decodeURLEncodedURIComponent(e.slice(c+1)):"",this.pathname=r._decodeURLEncodedURIComponent(~c?e.slice(0,c):e),this.params={},this.hash="",!s){if(!~this.path.indexOf("#"))return;var a=this.path.split("#");this.path=this.pathname=a[0],this.hash=r._decodeURLEncodedURIComponent(a[1])||"",this.querystring=this.querystring.split("#")[0]}}Z.prototype.pushState=function(){var e=this.page,t=e._window,n=e._hashbang;e.len++,ae&&t.history.pushState(this.state,this.title,n&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};Z.prototype.save=function(){var e=this.page;ae&&e._window.history.replaceState(this.state,this.title,e._hashbang&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};function X(e,t,n){var r=this.page=n||ye,i=t||{};i.strict=i.strict||r._strict,this.path=e==="*"?"(.*)":e,this.method="GET",this.regexp=W(this.path,this.keys=[],i)}X.prototype.middleware=function(e){var t=this;return function(n,r){if(t.match(n.path,n.params))return n.routePath=t.path,e(n,r);r()}};X.prototype.match=function(e,t){var n=this.keys,r=e.indexOf("?"),i=~r?e.slice(0,r):e,s=this.regexp.exec(decodeURIComponent(i));if(!s)return!1;delete t[0];for(var o=1,c=s.length;o<c;++o){var f=n[o-1],a=this.page._decodeURLEncodedURIComponent(s[o]);(a!==void 0||!hasOwnProperty.call(t,f.name))&&(t[f.name]=a)}return!0};var ye=Je(),G=ye,wt=ye;G.default=wt;function $t(e){let t;return{c(){t=v("h1"),t.textContent="Home"},m(n,r){w(n,t,r)},p:C,i:C,o:C,d(n){n&&y(t)}}}class Tt extends z{constructor(t){super(),N(this,t,null,$t,A,{})}}async function Et(e,t){t.textContent="Pending...";const n=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});Ge(n.status,t)}async function Ct(e,t){t.textContent="Pending...";const n=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});Ge(n.status,t)}function Ge(e,t){switch(e){case 200:console.log("Login Successful"),t.textContent="Login Successful";break;case 201:console.log("Registration Successful"),t.textContent="Registration Successful";break;case 400:console.log("Invalid Input"),t.textContent="Invalid Input";break;case 401:console.log("Invalid Credentials"),t.textContent="Invalid Credentials";break;case 409:console.log("Email is already in use"),t.textContent="Email is already in use";break;default:console.log("Unexpected Error"),t.textContent="An unexpected error occured...";break}}function xe(e){let t;return{c(){t=v("div"),t.innerHTML=`<label for="username" class="svelte-1i17zjf">Username</label> 
			<input type="text" name="username" autocomplete="off" required="" class="svelte-1i17zjf"/>`,g(t,"class","svelte-1i17zjf")},m(n,r){w(n,t,r)},d(n){n&&y(t)}}}function Lt(e){let t,n,r,i,s,o,c,f,a,l,u,h,d,p,m,$,b,L,T,U,ce,we,R=e[0]==="register"&&xe();return{c(){t=v("h1"),t.textContent="Auth",n=E(),r=v("form"),i=v("section"),s=v("label"),o=v("input"),c=P(`
			Login`),f=E(),a=v("label"),l=v("input"),u=P(`
			Register`),h=E(),d=v("div"),d.innerHTML=`<label for="email" class="svelte-1i17zjf">Email</label> 
		<input type="email" name="email" autocomplete="off" required="" class="svelte-1i17zjf"/>`,p=E(),m=v("div"),m.innerHTML=`<label for="password" class="svelte-1i17zjf">Password</label> 
		<input type="password" name="password" autocomplete="off" required="" class="svelte-1i17zjf"/>`,$=E(),R&&R.c(),b=E(),L=v("p"),L.textContent=`${xt}`,T=E(),U=v("button"),U.textContent="Submit",g(o,"type","radio"),g(o,"name","auth"),o.value="login",o.checked=!0,g(o,"class","svelte-1i17zjf"),g(s,"class","svelte-1i17zjf"),g(l,"type","radio"),g(l,"name","auth"),l.value="register",g(l,"class","svelte-1i17zjf"),g(a,"class","svelte-1i17zjf"),g(i,"class","svelte-1i17zjf"),g(d,"class","svelte-1i17zjf"),g(m,"class","svelte-1i17zjf"),g(L,"id","authErrorElement"),g(U,"type","submit"),g(r,"class","svelte-1i17zjf")},m(S,Y){w(S,t,Y),w(S,n,Y),w(S,r,Y),_(r,i),_(i,s),_(s,o),_(s,c),_(i,f),_(i,a),_(a,l),_(a,u),_(r,h),_(r,d),_(r,p),_(r,m),_(r,$),R&&R.m(r,null),_(r,b),_(r,L),_(r,T),_(r,U),ce||(we=[O(o,"change",e[1]),O(l,"change",e[1]),O(r,"submit",e[2])],ce=!0)},p(S,[Y]){S[0]==="register"?R||(R=xe(),R.c(),R.m(r,b)):R&&(R.d(1),R=null)},i:C,o:C,d(S){S&&y(t),S&&y(n),S&&y(r),R&&R.d(),ce=!1,H(we)}}}let xt="";function Rt(e,t,n){let r="login";function i(o){const c=o.target;n(0,r=c.value)}function s(o){o.preventDefault();const c=document.querySelector("#authErrorElement"),f=o.target,a=new FormData(f),l=a.get("email"),u=a.get("password"),h=a.get("username");r==="login"?Et({email:l,password:u},c):Ct({email:l,password:u,username:h},c)}return e.$$.update=()=>{e.$$.dirty&1&&console.log(r)},[r,i,s]}class kt extends z{constructor(t){super(),N(this,t,Rt,Lt,A,{})}}const q=[];function Ke(e,t=C){let n;const r=new Set;function i(c){if(A(e,c)&&(e=c,n)){const f=!q.length;for(const a of r)a[1](),q.push(a,e);if(f){for(let a=0;a<q.length;a+=2)q[a][0](q[a+1]);q.length=0}}}function s(c){i(c(e))}function o(c,f=C){const a=[c,f];return r.add(a),r.size===1&&(n=t(i)||C),c(e),()=>{r.delete(a),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}const Q=Ke([]);async function Ot(){try{const t=await(await fetch("/api/friends")).json();Q.set(t)}catch(e){console.error(e)}}function St(e){fetch("/api/friends",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})}).then(t=>t.status!==200?{error:"Something went wrong"}:t.json()).then(t=>{"error"in t||Q.update(n=>[...n,t])})}function jt(e){fetch("/api/friends",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}).then(t=>t.status!==200?{error:"Something went wrong"}:t.json()).then(t=>{"error"in t||Q.update(n=>{const r=n.find(i=>i.id===e);return r?(r.status="accepted",n):[...n,t]})})}function Pt(e){fetch("/api/friends",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}).then(t=>{t.status===200&&Q.update(n=>n.filter(r=>r.id!==e))})}const At=Q.subscribe;function Re(e,t,n){const r=e.slice();return r[6]=t[n],r}function ke(e){let t,n,r;function i(...s){return e[4](e[6],...s)}return{c(){t=v("button"),t.textContent="Accept",g(t,"class","accept-friend svelte-1el6fev")},m(s,o){w(s,t,o),n||(r=O(t,"click",i),n=!0)},p(s,o){e=s},d(s){s&&y(t),n=!1,r()}}}function Oe(e){let t,n=e[6].name+"",r,i,s,o,c,f,a,l,u,h=e[6].status==="pending"&&!e[6].isInitiator&&ke(e);function d(...p){return e[5](e[6],...p)}return{c(){t=v("li"),r=P(n),i=E(),s=v("div"),h&&h.c(),o=E(),c=v("button"),c.textContent="Remove",f=E(),g(c,"class","remove-friend svelte-1el6fev"),g(t,"class",a=se(e[6].status==="pending"?"pending-friend":"")+" svelte-1el6fev")},m(p,m){w(p,t,m),_(t,r),_(t,i),_(t,s),h&&h.m(s,null),_(s,o),_(s,c),_(t,f),l||(u=O(c,"click",d),l=!0)},p(p,m){e=p,m&1&&n!==(n=e[6].name+"")&&oe(r,n),e[6].status==="pending"&&!e[6].isInitiator?h?h.p(e,m):(h=ke(e),h.c(),h.m(s,o)):h&&(h.d(1),h=null),m&1&&a!==(a=se(e[6].status==="pending"?"pending-friend":"")+" svelte-1el6fev")&&g(t,"class",a)},d(p){p&&y(t),h&&h.d(),l=!1,u()}}}function Ut(e){let t,n,r,i,s,o,c,f,a,l,u=e[0],h=[];for(let d=0;d<u.length;d+=1)h[d]=Oe(Re(e,u,d));return{c(){t=v("h1"),t.textContent="Friends",n=E(),r=v("form"),r.innerHTML=`<input type="text" name="username" placeholder="Friends name" autocomplete="off" class="svelte-1el6fev"/> 
	<button type="submit">Add Friend</button>`,i=E(),s=v("section"),o=v("h2"),o.textContent="My Friends",c=E(),f=v("ul");for(let d=0;d<h.length;d+=1)h[d].c();g(r,"class","svelte-1el6fev"),g(f,"class","svelte-1el6fev")},m(d,p){w(d,t,p),w(d,n,p),w(d,r,p),w(d,i,p),w(d,s,p),_(s,o),_(s,c),_(s,f);for(let m=0;m<h.length;m+=1)h[m]&&h[m].m(f,null);a||(l=O(r,"submit",e[1]),a=!0)},p(d,[p]){if(p&13){u=d[0];let m;for(m=0;m<u.length;m+=1){const $=Re(d,u,m);h[m]?h[m].p($,p):(h[m]=Oe($),h[m].c(),h[m].m(f,null))}for(;m<h.length;m+=1)h[m].d(1);h.length=u.length}},i:C,o:C,d(d){d&&y(t),d&&y(n),d&&y(r),d&&y(i),d&&y(s),_e(h,d),a=!1,l()}}}function Ft(e,t,n){ze(()=>Ot());let r;At(a=>{n(0,r=a)});function i(a){a.preventDefault();const l=a.target,h=new FormData(l).get("username");St(h),l.username.value=""}function s(a,l){const u=a.target;u.disabled=!0,Pt(l)}function o(a,l){const u=a.target;u.disabled=!0,jt(l)}return[r,i,s,o,(a,l)=>o(l,a.id),(a,l)=>s(l,a.id)]}class Ht extends z{constructor(t){super(),N(this,t,Ft,Ut,A,{})}}const J=Ke([]);async function Nt(){try{const t=await(await fetch("/api/todolists")).json();J.set(t)}catch(e){console.error(e)}}async function zt(e){const t={title:e};let n;try{n=await(await fetch("/api/todolists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}catch(r){console.error(r);return}J.update(r=>[...r,n])}async function It(e,t){const n={todolistId:e,content:t};let r;try{r=await(await fetch("/api/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json()}catch(i){console.error(i);return}J.update(i=>{const s=i.find(o=>o.id===e);return s&&s.todos.push(r),i})}async function qt(e){let t;try{t=await(await fetch("/api/todos",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({todoId:e})})).json()}catch(n){console.error(n);return}J.update(n=>{const r=n.find(s=>s.todos.find(o=>o.id===e));if(!r)return n;const i=r.todos.find(s=>s.id===e);return i&&(i.completed=t.completed),n})}async function Dt(e){try{if((await fetch("/api/todos",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({todoId:e})})).status!==200)return}catch(t){console.error(t);return}J.update(t=>{const n=t.find(r=>r.todos.find(i=>i.id===e));return n&&(n.todos=n.todos.filter(r=>r.id!==e)),t})}const Mt=J.subscribe;function Se(e,t,n){const r=e.slice();return r[11]=t[n],r}function je(e,t,n){const r=e.slice();return r[14]=t[n],r}function Bt(e){let t,n,r;return{c(){t=v("input"),g(t,"type","button"),g(t,"class","createList svelte-1y5sbgp"),t.value="Create A Todo List"},m(i,s){w(i,t,s),n||(r=O(t,"click",e[7]),n=!0)},p:C,d(i){i&&y(t),n=!1,r()}}}function Jt(e){let t,n,r,i;return{c(){t=v("div"),n=v("form"),n.innerHTML=`<input type="text" name="list_title" placeholder="Enter a title" autocomplete="off" required="" class="svelte-1y5sbgp"/> 
				<input type="submit" value="Create" class="svelte-1y5sbgp"/>`,g(n,"class","svelte-1y5sbgp"),g(t,"class","todo-list svelte-1y5sbgp")},m(s,o){w(s,t,o),_(t,n),r||(i=O(n,"submit",e[6]),r=!0)},p:C,d(s){s&&y(t),r=!1,i()}}}function Pe(e){let t,n,r,i,s,o,c,f=e[14].content+"",a,l,u,h,d,p,m;function $(){return e[8](e[14])}function b(){return e[9](e[14])}return{c(){t=v("li"),n=v("input"),o=E(),c=v("span"),a=P(f),l=E(),u=v("input"),d=E(),g(n,"type","button"),n.disabled=r=!e[11].isOwner,n.value=i=`${e[14].completed?"✔":"✖"}`,g(n,"class",s=se(`${e[14].completed?"check":"cross"}`)+" svelte-1y5sbgp"),g(c,"class","svelte-1y5sbgp"),g(u,"type","button"),u.disabled=h=!e[11].isOwner,u.value="️🗑",g(u,"class","svelte-1y5sbgp"),g(t,"class","svelte-1y5sbgp")},m(L,T){w(L,t,T),_(t,n),_(t,o),_(t,c),_(c,a),_(t,l),_(t,u),_(t,d),p||(m=[O(n,"click",$),O(u,"click",b)],p=!0)},p(L,T){e=L,T&1&&r!==(r=!e[11].isOwner)&&(n.disabled=r),T&1&&i!==(i=`${e[14].completed?"✔":"✖"}`)&&(n.value=i),T&1&&s!==(s=se(`${e[14].completed?"check":"cross"}`)+" svelte-1y5sbgp")&&g(n,"class",s),T&1&&f!==(f=e[14].content+"")&&oe(a,f),T&1&&h!==(h=!e[11].isOwner)&&(u.disabled=h)},d(L){L&&y(t),p=!1,H(m)}}}function Ae(e){let t,n,r;function i(...s){return e[10](e[11],...s)}return{c(){t=v("form"),t.innerHTML=`<input type="text" name="content" placeholder="Add a todo..." autocomplete="off" required="" class="svelte-1y5sbgp"/> 
					<input type="submit" value="+" class="svelte-1y5sbgp"/>`,g(t,"class","svelte-1y5sbgp")},m(s,o){w(s,t,o),n||(r=O(t,"submit",i),n=!0)},p(s,o){e=s},d(s){s&&y(t),n=!1,r()}}}function Ue(e){let t,n,r=e[11].title+"",i,s,o,c,f=e[11].owner.name+"",a,l,u,h,d,p=e[11].todos,m=[];for(let b=0;b<p.length;b+=1)m[b]=Pe(je(e,p,b));let $=e[11].isOwner&&Ae(e);return{c(){t=v("div"),n=v("h2"),i=P(r),s=E(),o=v("h5"),c=P("By: "),a=P(f),l=E(),u=v("ul");for(let b=0;b<m.length;b+=1)m[b].c();h=E(),$&&$.c(),d=E(),g(n,"class","svelte-1y5sbgp"),g(o,"class","svelte-1y5sbgp"),g(u,"class","svelte-1y5sbgp"),g(t,"class","todo-list svelte-1y5sbgp")},m(b,L){w(b,t,L),_(t,n),_(n,i),_(t,s),_(t,o),_(o,c),_(o,a),_(t,l),_(t,u);for(let T=0;T<m.length;T+=1)m[T]&&m[T].m(u,null);_(t,h),$&&$.m(t,null),_(t,d)},p(b,L){if(L&1&&r!==(r=b[11].title+"")&&oe(i,r),L&1&&f!==(f=b[11].owner.name+"")&&oe(a,f),L&49){p=b[11].todos;let T;for(T=0;T<p.length;T+=1){const U=je(b,p,T);m[T]?m[T].p(U,L):(m[T]=Pe(U),m[T].c(),m[T].m(u,null))}for(;T<m.length;T+=1)m[T].d(1);m.length=p.length}b[11].isOwner?$?$.p(b,L):($=Ae(b),$.c(),$.m(t,d)):$&&($.d(1),$=null)},d(b){b&&y(t),_e(m,b),$&&$.d()}}}function Gt(e){let t,n,r,i,s;function o(u,h){return u[1]?Jt:Bt}let c=o(e),f=c(e),a=e[0],l=[];for(let u=0;u<a.length;u+=1)l[u]=Ue(Se(e,a,u));return{c(){t=v("h1"),t.textContent="Todos",n=E(),r=v("div"),f.c(),i=E(),s=v("div");for(let u=0;u<l.length;u+=1)l[u].c();g(r,"class","creator svelte-1y5sbgp"),g(s,"class","scrollable svelte-1y5sbgp")},m(u,h){w(u,t,h),w(u,n,h),w(u,r,h),f.m(r,null),w(u,i,h),w(u,s,h);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(s,null)},p(u,[h]){if(c===(c=o(u))&&f?f.p(u,h):(f.d(1),f=c(u),f&&(f.c(),f.m(r,null))),h&57){a=u[0];let d;for(d=0;d<a.length;d+=1){const p=Se(u,a,d);l[d]?l[d].p(p,h):(l[d]=Ue(p),l[d].c(),l[d].m(s,null))}for(;d<l.length;d+=1)l[d].d(1);l.length=a.length}},i:C,o:C,d(u){u&&y(t),u&&y(n),u&&y(r),f.d(),u&&y(i),u&&y(s),_e(l,u)}}}function Kt(e,t,n){ze(()=>Nt()),Xe(()=>n(0,r=[]));let r;Mt(p=>{n(0,r=p)});function i(p){p.preventDefault();const $=p.target.list_title;$.value&&(zt($.value),$.value="",n(1,f=!1))}function s(p,m){p.preventDefault();const b=p.target.content;b.value&&(It(m,b.value),b.value="")}function o(p){qt(p)}function c(p){Dt(p)}let f=!1;return[r,f,i,s,o,c,p=>i(p),()=>n(1,f=!0),p=>o(p.id),p=>c(p.id),(p,m)=>s(m,p.id)]}class Vt extends z{constructor(t){super(),N(this,t,Kt,Gt,A,{})}}function Wt(e){let t,n,r;return{c(){t=v("h1"),t.textContent="Page not found!",n=E(),r=v("a"),r.textContent="Go To Homepage",g(r,"href","/")},m(i,s){w(i,t,s),w(i,n,s),w(i,r,s)},p:C,i:C,o:C,d(i){i&&y(t),i&&y(n),i&&y(r)}}}class Zt extends z{constructor(t){super(),N(this,t,null,Wt,A,{})}}const Xt=[{path:"/",component:Tt},{path:"/auth",component:kt},{path:"/friends",component:Ht,auth:!0},{path:"/todos",component:Vt,auth:!0},{path:"*",component:Zt}];function Qt(e){let t,n,r,i,s,o,c;var f=e[0];function a(l){return{props:{params:l[1]}}}return f&&(i=Te(f,a(e))),o=new at({}),{c(){t=v("header"),t.innerHTML=`<nav class="svelte-1ikivvd"><a href="/">Home</a> 
		<a href="/auth">Login/Register</a> 
		<a href="/friends">Friends</a> 
		<a href="/todos">Todos</a></nav>`,n=E(),r=v("main"),i&&de(i.$$.fragment),s=E(),de(o.$$.fragment),g(r,"class","svelte-1ikivvd")},m(l,u){w(l,t,u),w(l,n,u),w(l,r,u),i&&re(i,r,null),w(l,s,u),re(o,l,u),c=!0},p(l,[u]){const h={};if(u&2&&(h.params=l[1]),u&1&&f!==(f=l[0])){if(i){nt();const d=i;ue(d.$$.fragment,1,0,()=>{ie(d,1)}),rt()}f?(i=Te(f,a(l)),de(i.$$.fragment),ne(i.$$.fragment,1),re(i,r,null)):i=null}else f&&i.$set(h)},i(l){c||(i&&ne(i.$$.fragment,l),ne(o.$$.fragment,l),c=!0)},o(l){i&&ue(i.$$.fragment,l),ue(o.$$.fragment,l),c=!1},d(l){l&&y(t),l&&y(n),l&&y(r),i&&ie(i),l&&y(s),ie(o,l)}}}let Yt=!0;function en(e,t,n){let r=null,i={};Xt.forEach(o=>{G(o.path,(c,f)=>{n(1,i={...c.params}),f()},()=>{o.auth&&!Yt?G.redirect("/"):n(0,r=o.component)})}),G.start();const s=new URLSearchParams(location.search).get("page");return s&&G.replace("/"+s),[r,i]}class tn extends z{constructor(t){super(),N(this,t,en,Qt,A,{})}}new tn({target:document.getElementById("app")});
